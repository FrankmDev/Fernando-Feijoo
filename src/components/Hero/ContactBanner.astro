---
import { Image } from "astro:assets";
import Cta from "@components/Cta.astro";

// Importamos la imagen desde /public como un asset optimizado
import BannerImg from "/public/bannerimg.jpg";

// SEO and accessibility improvements
const sectionTitle = "Get In Touch";
const sectionDescription =
  "Ready to discuss your next project? Let's create something extraordinary together. Contact Fernando Feijoo to explore custom artworks, commissions, or inquire about existing pieces.";
---

<section
  class="my-6 mx-auto max-w-7xl"
  aria-label="Contact and introduction"
  role="region"
>
  <div
    class="container mx-auto px-4 grid grid-cols-1 md:grid-cols-2 gap-0 overflow-hidden"
  >
    <!-- Content Section -->
    <article
      class="bg-black text-white p-8 md:p-12 flex flex-col justify-center order-2 md:order-1"
    >
      <header class="mb-6">
        <h2
          class="text-3xl md:text-4xl lg:text-5xl font-bold mb-4 leading-tight"
        >
          {sectionTitle}
        </h2>
        <p class="text-base md:text-lg leading-relaxed text-gray-100">
          {sectionDescription}
        </p>
      </header>

      <div class="mt-auto pt-6">
        <Cta href="/contact" label="Contact Fernando" isDark={false} />
      </div>
    </article>

    <!-- Image Section -->
    <figure class="relative aspect-[4/3] md:aspect-auto order-1 md:order-2">
      <Image
        src={BannerImg}
        alt="Fernando Feijoo working in his studio, hands crafting ceramic artwork"
        width={800}
        height={600}
        class="w-full h-full object-cover"
        loading="lazy"
        decoding="async"
        quality={85}
        format="webp"
      />

      <!-- Subtle overlay for better text readability on mobile -->
      <div
        class="absolute inset-0 bg-gradient-to-t from-black/20 to-transparent md:hidden"
        aria-hidden="true"
      >
      </div>
    </figure>
  </div>
</section>

<style>
  /* Ensure proper responsive behavior */
  .container {
    max-width: 1280px;
  }

  /* Smooth transitions for interactive elements */
  article {
    transition: background-color 0.3s ease;
  }

  /* Optimize for different screen sizes */
  @media (max-width: 768px) {
    article {
      padding: 2rem 1.5rem;
      min-height: 300px;
    }

    figure {
      min-height: 250px;
    }
  }

  @media (min-width: 769px) and (max-width: 1024px) {
    article {
      padding: 3rem 2.5rem;
    }
  }

  @media (min-width: 1025px) {
    article {
      padding: 4rem 3rem;
    }
  }

  /* Performance optimizations */
  figure {
    will-change: transform;
  }

  /* Accessibility improvements */
  @media (prefers-reduced-motion: reduce) {
    * {
      transition-duration: 0.01ms !important;
    }
  }

  /* High contrast mode support */
  @media (prefers-contrast: high) {
    article {
      border: 2px solid white;
    }
  }

  /* Print styles */
  @media print {
    section {
      break-inside: avoid;
      margin: 1rem 0;
    }

    figure {
      display: none;
    }

    article {
      background: white !important;
      color: black !important;
      border: 1px solid black;
    }
  }
</style>
