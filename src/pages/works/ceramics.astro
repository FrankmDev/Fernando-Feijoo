---
import WorksLayout from "@components/WorksLayout.astro";
import WorkCard from "@components/WorkCard.astro";
import { WORKS } from "@data/works";
import { processImageUrl } from "@utils/images";

const ceramicsCategory = WORKS.find((category) => category.slug === "ceramics");
if (!ceramicsCategory) throw new Error("Ceramics category not found");

const works = ceramicsCategory.works || [];
const bannerImage = works[0]?.imageUrls?.[0]
  ? processImageUrl(works[0].imageUrls[0])
  : undefined;

const description = `These ceramics are unique pieces crafted by the artist using a range of underglaze painting, oxides and clear glaze finishes. The different shapes and forms of the vessels allow the artist to display pictorial narrative imagery with creative outcomes which engage the viewer and offer the chance to explore the object from all angles. The normal function of plates, vases etc., is often subverted allowing for contradictions and subtexts within the subject matter.`;
---

<WorksLayout
  title="Ceramics"
  description={description}
  bannerImage={bannerImage}
  breadcrumbs={[
    { label: "Home", href: "/" },
    { label: "Works", href: "/works" },
    { label: "Ceramics" },
  ]}
  introText={description}
  sectionTitle="Works"
  showEmpty={works.length === 0}
  emptyIcon="ðŸº"
  emptyTitle="No Ceramics Available"
>
  {
    works.map((work, index) => (
      <div class="grid-item" style={`--delay: ${0.2 + index * 0.08}s`}>
        <WorkCard
          href={`/works/${work.slug}`}
          title={work.title}
          subtitle={work.printType}
          imageUrl={
            work.imageUrls?.[0] ? processImageUrl(work.imageUrls[0]) : ""
          }
          imageAlt={work.title}
          isAboveFold={index < 3}
        />
      </div>
    ))
  }
</WorksLayout>

<style>
  .grid-item {
    opacity: 0;
    animation: fadeInUp 0.6s var(--ease-out-expo, cubic-bezier(0.16, 1, 0.3, 1))
      forwards;
    animation-delay: var(--delay, 0s);
  }

  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @media (prefers-reduced-motion: reduce) {
    .grid-item {
      opacity: 1;
      animation: none;
    }
  }
</style>
