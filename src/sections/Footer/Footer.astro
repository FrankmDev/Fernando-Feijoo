---
import Logo from "@components/Header/Logo.astro";
import { NAV_ITEMS, SOCIAL_LINKS } from "@constants";

const currentYear = new Date().getFullYear();
---

<footer class="footer" transition:name="footer">
  <div class="footer-inner">
    <!-- Main Content -->
    <div class="footer-content">
      <!-- Brand Section -->
      <div class="footer-brand">
        <Logo class="footer-logo" />
      </div>

      <!-- Navigation -->
      <nav class="footer-nav" aria-label="Footer navigation">
        {
          NAV_ITEMS.map((link) => (
            <a href={link.href} class="nav-link">
              {link.text}
            </a>
          ))
        }
      </nav>

      <!-- Social Links -->
      <div class="footer-social">
        {
          SOCIAL_LINKS.map((link) => (
            <a
              href={link.href}
              class="social-link"
              aria-label={`Follow on ${link.label}`}
              target="_blank"
              rel="noopener noreferrer"
            >
              {link.icon === "instagram" && (
                <svg
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="1.5"
                >
                  <rect x="2" y="2" width="20" height="20" rx="5" />
                  <circle cx="12" cy="12" r="4" />
                  <circle
                    cx="17.5"
                    cy="6.5"
                    r="1.5"
                    fill="currentColor"
                    stroke="none"
                  />
                </svg>
              )}
              {link.icon === "x" && (
                <svg viewBox="0 0 24 24" fill="currentColor">
                  <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z" />
                </svg>
              )}
              {link.icon === "vimeo" && (
                <svg viewBox="0 0 24 24" fill="currentColor">
                  <path d="M23.977 6.416c-.105 2.338-1.739 5.543-4.894 9.609-3.268 4.247-6.026 6.37-8.29 6.37-1.409 0-2.578-1.294-3.553-3.881L5.322 11.4C4.603 8.816 3.834 7.522 3.01 7.522c-.179 0-.806.378-1.881 1.132L0 7.197c1.185-1.044 2.351-2.084 3.501-3.128C5.08 2.701 6.266 1.984 7.055 1.91c1.867-.18 3.016 1.1 3.447 3.838.465 2.953.789 4.789.971 5.507.539 2.45 1.131 3.674 1.776 3.674.502 0 1.256-.796 2.265-2.385 1.004-1.589 1.54-2.797 1.612-3.628.144-1.371-.395-2.061-1.614-2.061-.574 0-1.167.121-1.777.391 1.186-3.868 3.434-5.757 6.762-5.637 2.473.06 3.628 1.664 3.493 4.797l-.013.01z" />
                </svg>
              )}
            </a>
          ))
        }
      </div>
    </div>

    <!-- Divider -->
    <div class="footer-divider"></div>

    <!-- Bottom Bar -->
    <div class="footer-bottom">
      <span class="copyright">
        Â© {currentYear} Fernando Feijoo. All rights reserved.
      </span>
    </div>
  </div>
</footer>

<style>
  .footer {
    width: 100%;
    background: linear-gradient(180deg, #fafafa 0%, #f2f2f2 100%);
    padding: 4rem 1.5rem 2rem;
  }

  .footer-inner {
    max-width: 1200px;
    margin: 0 auto;
  }

  /* Main Content Grid */
  .footer-content {
    display: grid;
    grid-template-columns: 1fr;
    gap: 2rem;
    text-align: center;
  }

  /* Brand / Logo */
  .footer-brand {
    display: flex;
    justify-content: center;
  }

  .footer-brand :global(.footer-logo) {
    opacity: 0.85;
    transition: opacity 0.3s ease;
  }

  .footer-brand :global(.footer-logo:hover) {
    opacity: 1;
  }

  .footer-brand :global(.footer-logo h2) {
    font-size: 1.5rem;
  }

  /* Navigation */
  .footer-nav {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    align-items: center;
    gap: 1.25rem 1.75rem;
  }

  .nav-link {
    font-size: 0.8125rem;
    font-weight: 500;
    color: #555;
    text-decoration: none;
    letter-spacing: 0.04em;
    text-transform: uppercase;
    position: relative;
    padding: 0.35rem 0;
    transition: color 0.25s ease;
  }

  .nav-link::after {
    content: "";
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 1.51px;
    background: #1a1a1a;
    transform: scaleX(0);
    transform-origin: right;
    transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .nav-link:hover {
    color: #1a1a1a;
  }

  .nav-link:hover::after {
    transform: scaleX(1);
    transform-origin: left;
  }

  /* Social Links */
  .footer-social {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 0.5rem;
  }

  .social-link {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 38px;
    height: 38px;
    color: #555;
    background: transparent;
    border: 1.5px solid #d5d5d5;
    border-radius: 50%;
    text-decoration: none;
    transition:
      color 0.3s ease,
      background 0.3s ease,
      border-color 0.3s ease,
      transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1),
      box-shadow 0.3s ease;
  }

  .social-link svg {
    width: 16px;
    height: 16px;
    transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
  }

  .social-link:hover {
    color: #fff;
    background: #1a1a1a;
    border-color: #1a1a1a;
    transform: translateY(-4px) scale(1.05);
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.18);
  }

  .social-link:hover svg {
    transform: scale(1.15);
  }

  .social-link:focus-visible {
    outline: none;
    box-shadow: 0 0 0 3px rgba(26, 26, 26, 0.15);
  }

  /* Divider */
  .footer-divider {
    height: 1px;
    background: linear-gradient(
      to right,
      transparent,
      #ccc 15%,
      #ccc 85%,
      transparent
    );
    margin: 2.5rem 0 1.25rem;
  }

  /* Bottom */
  .footer-bottom {
    text-align: center;
  }

  .copyright {
    font-size: 0.6875rem;
    color: #888;
    letter-spacing: 0.06em;
  }

  /* Responsive - Tablet & Desktop */
  @media (min-width: 640px) {
    .footer-content {
      display: flex;
      justify-content: space-between;
      align-items: center;
      text-align: left;
    }

    .footer-brand {
      justify-content: flex-start;
      flex-shrink: 0;
    }

    .footer-nav {
      flex-grow: 1;
      justify-content: flex-end;
      margin-right: 1.5rem;
      gap: 1.5rem;
    }

    .footer-social {
      justify-content: flex-end;
      flex-shrink: 0;
      margin-left: 0;
    }
  }

  /* Responsive - Desktop */
  @media (min-width: 768px) {
    .footer {
      padding: 4.5rem 2.5rem 2rem;
    }

    .footer-brand :global(.footer-logo h2) {
      font-size: 1.75rem;
    }

    .footer-nav {
      gap: 2rem;
      margin-right: 2.5rem;
    }

    .footer-divider {
      margin: 3rem 0 1.5rem;
    }

    .social-link {
      width: 40px;
      height: 40px;
    }

    .social-link svg {
      width: 17px;
      height: 17px;
    }
  }

  @media (min-width: 1024px) {
    .footer-nav {
      gap: 2.5rem;
      margin-right: 3rem;
    }
  }

  /* Reduced motion */
  @media (prefers-reduced-motion: reduce) {
    .social-link,
    .social-link svg,
    .nav-link,
    .nav-link::after,
    .footer-brand :global(.footer-logo) {
      transition: none;
    }

    .social-link:hover {
      transform: none;
    }
  }

  /* Print */
  @media print {
    .footer {
      background: #fff;
    }

    .footer-social {
      display: none;
    }

    .footer-divider {
      background: #ddd;
    }
  }
</style>
