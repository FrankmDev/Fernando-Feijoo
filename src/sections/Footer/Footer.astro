---
import FooterLogo from "@components/Footer/FooterLogo.astro";
import { NAV_ITEMS, SOCIAL_LINKS } from "@constants";

const currentYear = new Date().getFullYear();
---

<footer class="footer">
  <div class="footer-container">
    <!-- Top Section -->
    <div class="footer-top">
      <div class="footer-logo-wrapper">
        <FooterLogo />
      </div>
      
      <nav class="footer-nav" aria-label="Footer navigation">
        {
          NAV_ITEMS.map((item) => (
            <a href={item.href} class="footer-link">
              {item.text}
            </a>
          ))
        }
      </nav>
    </div>

    <!-- Divider -->
    <div class="footer-divider"></div>

    <!-- Bottom Section -->
    <div class="footer-bottom">
      <p class="footer-copyright">
        Â© {currentYear} Fernando Feijoo
        <span class="footer-separator">|</span>
        <span class="footer-developer">Developed by <a href="https://www.frnq.studio/" target="_blank" rel="noopener noreferrer">FRN.Q</a></span>
      </p>

      <div class="footer-socials">
        {
          SOCIAL_LINKS.map((link) => (
            <a
              href={link.href}
              class="social-link"
              aria-label={`Follow on ${link.label}`}
              target="_blank"
              rel="noopener noreferrer"
            >
              {link.icon === "instagram" && (
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                  <rect x="2" y="2" width="20" height="20" rx="5" />
                  <circle cx="12" cy="12" r="4" />
                  <circle cx="17.5" cy="6.5" r="1.5" fill="currentColor" stroke="none" />
                </svg>
              )}
              {link.icon === "x" && (
                <svg viewBox="0 0 24 24" fill="currentColor">
                  <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z" />
                </svg>
              )}
              {link.icon === "vimeo" && (
                <svg viewBox="0 0 24 24" fill="currentColor">
                  <path d="M23.977 6.416c-.105 2.338-1.739 5.543-4.894 9.609-3.268 4.247-6.026 6.37-8.29 6.37-1.409 0-2.578-1.294-3.553-3.881L5.322 11.4C4.603 8.816 3.834 7.522 3.01 7.522c-.179 0-.806.378-1.881 1.132L0 7.197c1.185-1.044 2.351-2.084 3.501-3.128C5.08 2.701 6.266 1.984 7.055 1.91c1.867-.18 3.016 1.1 3.447 3.838.465 2.953.789 4.789.971 5.507.539 2.45 1.131 3.674 1.776 3.674.502 0 1.256-.796 2.265-2.385 1.004-1.589 1.54-2.797 1.612-3.628.144-1.371-.395-2.061-1.614-2.061-.574 0-1.167.121-1.777.391 1.186-3.868 3.434-5.757 6.762-5.637 2.473.06 3.628 1.664 3.493 4.797l-.013.01z" />
                </svg>
              )}
            </a>
          ))
        }
      </div>
    </div>
  </div>
</footer>

<style>
  .footer {
    width: 100%;
    background: #fff;
    border-top: 1px solid rgba(0, 0, 0, 0.06);
    padding: clamp(2rem, 6vw, 4rem) clamp(1rem, 3vw, 3rem) clamp(1.5rem, 4vw, 3rem);
    margin-top: auto;
  }

  .footer-container {
    max-width: 1400px;
    margin: 0 auto;
    display: flex;
    flex-direction: column;
    gap: clamp(1.5rem, 4vw, 2.5rem);
  }

  /* Top Section */
  .footer-top {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    gap: clamp(1.5rem, 4vw, 2rem);
  }

  .footer-logo-wrapper {
    display: flex;
    align-items: flex-start;
    opacity: 0.6;
    transition: opacity 0.3s ease;
  }

  .footer-logo-wrapper:hover {
    opacity: 1;
  }

  /* Navigation */
  .footer-nav {
    display: flex;
    flex-wrap: wrap;
    justify-content: flex-start;
    gap: 0.5rem 2rem;
  }

  .footer-link {
    font-family: "Exo", system-ui, sans-serif;
    font-size: 0.75rem;
    font-weight: 500;
    color: #666;
    text-decoration: none;
    letter-spacing: 0.1em;
    text-transform: uppercase;
    padding: 0.5rem 0;
    position: relative;
    transition: color 0.3s ease;
    outline: none;
    -webkit-tap-highlight-color: transparent;
  }

  .footer-link:focus,
  .footer-link:focus-visible {
    outline: none;
  }

  /* Elegant underline */
  .footer-link::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 50%;
    width: 0;
    height: 1px;
    background: #000;
    transform: translateX(-50%);
    transition: width 0.3s cubic-bezier(0.16, 1, 0.3, 1);
  }

  .footer-link:hover {
    color: #000;
  }

  .footer-link:hover::after {
    width: 100%;
  }

  /* Divider */
  .footer-divider {
    height: 1px;
    background: linear-gradient(90deg, transparent, rgba(0, 0, 0, 0.08), transparent);
    width: 100%;
  }

  /* Bottom Section */
  .footer-bottom {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 1.5rem;
  }

  .footer-copyright {
    font-family: "Exo", system-ui, sans-serif;
    font-size: 0.6875rem;
    font-weight: 400;
    color: #999;
    letter-spacing: 0.05em;
    margin: 0;
  }

  .footer-separator {
    margin: 0 0.75rem;
    color: rgba(0, 0, 0, 0.2);
  }

  .footer-developer {
    font-weight: 600;
    color: #666;
  }

  .footer-developer a {
    color: #000;
    text-decoration: none;
    font-weight: 700;
    position: relative;
    transition: color 0.3s ease;
  }

  .footer-developer a::after {
    content: '';
    position: absolute;
    bottom: -2px;
    left: 0;
    width: 100%;
    height: 1px;
    background: #000;
    transform: scaleX(0);
    transform-origin: right;
    transition: transform 0.3s cubic-bezier(0.16, 1, 0.3, 1);
  }

  .footer-developer a:hover {
    color: #333;
  }

  .footer-developer a:hover::after {
    transform: scaleX(1);
    transform-origin: left;
  }

  /* Social Links - Minimal */
  .footer-socials {
    display: flex;
    align-items: center;
    gap: 1.5rem;
  }

  .social-link {
    color: #999;
    text-decoration: none;
    transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
    outline: none;
    -webkit-tap-highlight-color: transparent;
  }

  .social-link:focus,
  .social-link:focus-visible {
    outline: none;
  }

  .social-link svg {
    width: 18px;
    height: 18px;
    display: block;
    transition: transform 0.3s ease, color 0.3s ease;
  }

  .social-link:hover {
    color: #000;
  }

  .social-link:hover svg {
    transform: translateY(-2px);
  }

  /* Mobile: Center all content including logo */
  @media (max-width: 767px) {
    .footer-top {
      align-items: center;
    }

    .footer-logo-wrapper {
      align-items: center;
      justify-content: center;
      width: 100%;
    }

    .footer-nav {
      justify-content: center;
      width: 100%;
    }

    .footer-link {
      text-align: center;
    }

    .footer-copyright {
      text-align: center;
    }

    .footer-bottom {
      align-items: center;
    }
  }

  /* Responsive */
  @media (min-width: 768px) {
    .footer {
      padding: 4rem 2rem 2.5rem;
    }

    .footer-top {
      flex-direction: row;
      justify-content: space-between;
      align-items: center;
      gap: 3rem;
    }



    .footer-nav {
      gap: 2.5rem;
    }

    .footer-bottom {
      flex-direction: row;
      justify-content: space-between;
      align-items: center;
    }

    .footer-copyright {
      order: 1;
    }

    .footer-socials {
      order: 2;
      gap: 2rem;
    }
  }

  @media (min-width: 1024px) {
    .footer {
      padding: 4rem 3rem 3rem;
    }

    .footer-container {
      gap: 2.5rem;
    }

    .footer-top {
      gap: 4rem;
    }



    .footer-nav {
      gap: 3rem;
    }

    .social-link svg {
      width: 20px;
      height: 20px;
    }
  }

  /* Reduced motion */
  @media (prefers-reduced-motion: reduce) {
    .footer-logo,
    .footer-link,
    .footer-link::after,
    .social-link,
    .social-link svg {
      transition: none;
    }

    .social-link:hover svg {
      transform: none;
    }
  }

  /* Print */
  @media print {
    .footer {
      background: #fff;
      border-top: 1px solid #ddd;
    }

    .footer-socials {
      display: none;
    }

    .footer-divider {
      background: #ddd;
    }
  }
</style>
